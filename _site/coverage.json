{
  "instrumentation": "node-jscoverage",
  "sloc": 106,
  "hits": 90,
  "misses": 16,
  "coverage": 84.90566037735849,
  "files": [
    {
      "filename": "E:/codes/nd-slider/index.js",
      "coverage": 84.90566037735849,
      "hits": 90,
      "misses": 16,
      "sloc": 106,
      "source": {
        "1": {
          "source": "/**",
          "coverage": ""
        },
        "2": {
          "source": " * @module nd-slider",
          "coverage": ""
        },
        "3": {
          "source": " * @author crossjs <liwenfu@crossjs.com> - 2014-11-25 00:00:00",
          "coverage": ""
        },
        "4": {
          "source": " */",
          "coverage": ""
        },
        "5": {
          "source": "",
          "coverage": ""
        },
        "6": {
          "source": "'use strict';",
          "coverage": ""
        },
        "7": {
          "source": "",
          "coverage": ""
        },
        "8": {
          "source": "var $ = require('jquery');",
          "coverage": 1
        },
        "9": {
          "source": "",
          "coverage": ""
        },
        "10": {
          "source": "var KEY_LEFT  = 37;",
          "coverage": 1
        },
        "11": {
          "source": "var KEY_UP    = 38;",
          "coverage": 1
        },
        "12": {
          "source": "var KEY_RIGHT = 39;",
          "coverage": 1
        },
        "13": {
          "source": "var KEY_DOWN  = 40;",
          "coverage": 1
        },
        "14": {
          "source": "",
          "coverage": ""
        },
        "15": {
          "source": "/**",
          "coverage": ""
        },
        "16": {
          "source": " * 全屏切换",
          "coverage": ""
        },
        "17": {
          "source": " * @class",
          "coverage": ""
        },
        "18": {
          "source": " * @constructor",
          "coverage": ""
        },
        "19": {
          "source": " * @param  {Object} options 参数配置",
          "coverage": ""
        },
        "20": {
          "source": " */",
          "coverage": ""
        },
        "21": {
          "source": "var Slider = function(options) {",
          "coverage": 1
        },
        "22": {
          "source": "  return this.init(options);",
          "coverage": 3
        },
        "23": {
          "source": "};",
          "coverage": ""
        },
        "24": {
          "source": "",
          "coverage": ""
        },
        "25": {
          "source": "/**",
          "coverage": ""
        },
        "26": {
          "source": " * 初始化",
          "coverage": ""
        },
        "27": {
          "source": " * @param  {Object} options 参数配置",
          "coverage": ""
        },
        "28": {
          "source": " * @return                  当前实例",
          "coverage": ""
        },
        "29": {
          "source": " */",
          "coverage": ""
        },
        "30": {
          "source": "Slider.prototype.init = function(options) {",
          "coverage": 1
        },
        "31": {
          "source": "  this.activeClass = options.activeClass;",
          "coverage": 3
        },
        "32": {
          "source": "  this.container = $(options.container);",
          "coverage": 3
        },
        "33": {
          "source": "  this.events = options.events;",
          "coverage": 3
        },
        "34": {
          "source": "  this.paginator = options.paginator;",
          "coverage": 3
        },
        "35": {
          "source": "  this.slides = $(options.slides, this.container);",
          "coverage": 3
        },
        "36": {
          "source": "  this.slideWrap = options.slideWrap;",
          "coverage": 3
        },
        "37": {
          "source": "  this.speed = options.speed || 1000;",
          "coverage": 3
        },
        "38": {
          "source": "",
          "coverage": ""
        },
        "39": {
          "source": "  this.index = 0;",
          "coverage": 3
        },
        "40": {
          "source": "  this.maxIndex = this.slides.length - 1;",
          "coverage": 3
        },
        "41": {
          "source": "  this.height = $(window).height();",
          "coverage": 3
        },
        "42": {
          "source": "",
          "coverage": ""
        },
        "43": {
          "source": "  this._initDomEvents();",
          "coverage": 3
        },
        "44": {
          "source": "  this._initPaginator();",
          "coverage": 3
        },
        "45": {
          "source": "",
          "coverage": ""
        },
        "46": {
          "source": "  this._initEvents();",
          "coverage": 3
        },
        "47": {
          "source": "",
          "coverage": ""
        },
        "48": {
          "source": "  this.ready = true;",
          "coverage": 3
        },
        "49": {
          "source": "",
          "coverage": ""
        },
        "50": {
          "source": "  // 初始化到第一屏",
          "coverage": ""
        },
        "51": {
          "source": "  this._scroll(0, 1);",
          "coverage": 3
        },
        "52": {
          "source": "",
          "coverage": ""
        },
        "53": {
          "source": "  return this;",
          "coverage": 3
        },
        "54": {
          "source": "};",
          "coverage": ""
        },
        "55": {
          "source": "",
          "coverage": ""
        },
        "56": {
          "source": "/**",
          "coverage": ""
        },
        "57": {
          "source": " * 初始化 DOM 事件绑定",
          "coverage": ""
        },
        "58": {
          "source": " * @private",
          "coverage": ""
        },
        "59": {
          "source": " */",
          "coverage": ""
        },
        "60": {
          "source": "Slider.prototype._initDomEvents = function() {",
          "coverage": 1
        },
        "61": {
          "source": "  var self = this,",
          "coverage": 3
        },
        "62": {
          "source": "    resizeTimeout;",
          "coverage": ""
        },
        "63": {
          "source": "",
          "coverage": ""
        },
        "64": {
          "source": "  function resize() {",
          "coverage": ""
        },
        "65": {
          "source": "    if (resizeTimeout) {",
          "coverage": 0
        },
        "66": {
          "source": "      clearTimeout(resizeTimeout);",
          "coverage": 0
        },
        "67": {
          "source": "    }",
          "coverage": ""
        },
        "68": {
          "source": "",
          "coverage": ""
        },
        "69": {
          "source": "    resizeTimeout = setTimeout(function() {",
          "coverage": 0
        },
        "70": {
          "source": "      self.height = $(window).height();",
          "coverage": 0
        },
        "71": {
          "source": "      self._scroll(0, 1);",
          "coverage": 0
        },
        "72": {
          "source": "    }, 50);",
          "coverage": ""
        },
        "73": {
          "source": "  }",
          "coverage": ""
        },
        "74": {
          "source": "",
          "coverage": ""
        },
        "75": {
          "source": "  $(window).on('resize.nd-slider', function() {",
          "coverage": 3
        },
        "76": {
          "source": "    resize();",
          "coverage": 0
        },
        "77": {
          "source": "  });",
          "coverage": ""
        },
        "78": {
          "source": "",
          "coverage": ""
        },
        "79": {
          "source": "  $(document).on({",
          "coverage": 3
        },
        "80": {
          "source": "    // for firefox",
          "coverage": ""
        },
        "81": {
          "source": "    'DOMMouseScroll.nd-slider': function(e) {",
          "coverage": ""
        },
        "82": {
          "source": "      e.preventDefault();",
          "coverage": 0
        },
        "83": {
          "source": "      e.stopPropagation();",
          "coverage": 0
        },
        "84": {
          "source": "      self._scroll(e.originalEvent.detail > 0 ? 1 : -1);",
          "coverage": 0
        },
        "85": {
          "source": "    },",
          "coverage": ""
        },
        "86": {
          "source": "    'mousewheel.nd-slider': function(e) {",
          "coverage": ""
        },
        "87": {
          "source": "      e.preventDefault();",
          "coverage": 2
        },
        "88": {
          "source": "      e.stopPropagation();",
          "coverage": 2
        },
        "89": {
          "source": "      self._scroll(e.originalEvent.wheelDelta < 0 ? 1 : -1);",
          "coverage": 2
        },
        "90": {
          "source": "    },",
          "coverage": ""
        },
        "91": {
          "source": "    'keydown.nd-slider': function(e) {",
          "coverage": ""
        },
        "92": {
          "source": "      switch (e.keyCode) {",
          "coverage": 4
        },
        "93": {
          "source": "        case KEY_UP:",
          "coverage": ""
        },
        "94": {
          "source": "        case KEY_LEFT:",
          "coverage": ""
        },
        "95": {
          "source": "          self._scroll(-1);",
          "coverage": 2
        },
        "96": {
          "source": "          break;",
          "coverage": 2
        },
        "97": {
          "source": "        case KEY_DOWN:",
          "coverage": ""
        },
        "98": {
          "source": "        case KEY_RIGHT:",
          "coverage": ""
        },
        "99": {
          "source": "          self._scroll(1);",
          "coverage": 2
        },
        "100": {
          "source": "          break;",
          "coverage": 2
        },
        "101": {
          "source": "      }",
          "coverage": ""
        },
        "102": {
          "source": "    }",
          "coverage": ""
        },
        "103": {
          "source": "  });",
          "coverage": ""
        },
        "104": {
          "source": "};",
          "coverage": ""
        },
        "105": {
          "source": "",
          "coverage": ""
        },
        "106": {
          "source": "/**",
          "coverage": ""
        },
        "107": {
          "source": " * 初始化分页符",
          "coverage": ""
        },
        "108": {
          "source": " * @private",
          "coverage": ""
        },
        "109": {
          "source": " */",
          "coverage": ""
        },
        "110": {
          "source": "Slider.prototype._initPaginator = function() {",
          "coverage": 1
        },
        "111": {
          "source": "  var self = this;",
          "coverage": 3
        },
        "112": {
          "source": "",
          "coverage": ""
        },
        "113": {
          "source": "  if (!self.paginator) {",
          "coverage": 3
        },
        "114": {
          "source": "    return;",
          "coverage": 0
        },
        "115": {
          "source": "  }",
          "coverage": ""
        },
        "116": {
          "source": "",
          "coverage": ""
        },
        "117": {
          "source": "  self.paginator = $(self.paginator).on('click.nd-slider', function(e) {",
          "coverage": 3
        },
        "118": {
          "source": "    if (e.target.tagName === 'I') {",
          "coverage": 2
        },
        "119": {
          "source": "      self.ready = true;",
          "coverage": 2
        },
        "120": {
          "source": "      self._scroll(+e.target.getAttribute('data-index') - self.index);",
          "coverage": 2
        },
        "121": {
          "source": "    }",
          "coverage": ""
        },
        "122": {
          "source": "  });",
          "coverage": ""
        },
        "123": {
          "source": "",
          "coverage": ""
        },
        "124": {
          "source": "  var i, n = self.maxIndex, html = [];",
          "coverage": 3
        },
        "125": {
          "source": "",
          "coverage": ""
        },
        "126": {
          "source": "  for (i = 0; i <= n; i++) {",
          "coverage": 3
        },
        "127": {
          "source": "    html.push('<i data-index=\"' + i + '\"></i>');",
          "coverage": 18
        },
        "128": {
          "source": "  }",
          "coverage": ""
        },
        "129": {
          "source": "",
          "coverage": ""
        },
        "130": {
          "source": "  self.paginator.html(html.join(''));",
          "coverage": 3
        },
        "131": {
          "source": "};",
          "coverage": ""
        },
        "132": {
          "source": "",
          "coverage": ""
        },
        "133": {
          "source": "/**",
          "coverage": ""
        },
        "134": {
          "source": " * 滚屏",
          "coverage": ""
        },
        "135": {
          "source": " * @private",
          "coverage": ""
        },
        "136": {
          "source": " * @param  {Number} step  移动的页数，负数为向前页移动",
          "coverage": ""
        },
        "137": {
          "source": " * @param  {Number} speed 动画速度",
          "coverage": ""
        },
        "138": {
          "source": " * @fires module:nd-slider#animate",
          "coverage": ""
        },
        "139": {
          "source": " * @fires module:nd-slider#complete",
          "coverage": ""
        },
        "140": {
          "source": " */",
          "coverage": ""
        },
        "141": {
          "source": "Slider.prototype._scroll = function(step, speed) {",
          "coverage": 1
        },
        "142": {
          "source": "  var self = this;",
          "coverage": 11
        },
        "143": {
          "source": "",
          "coverage": ""
        },
        "144": {
          "source": "  if (!self.ready) {",
          "coverage": 11
        },
        "145": {
          "source": "    return;",
          "coverage": 0
        },
        "146": {
          "source": "  }",
          "coverage": ""
        },
        "147": {
          "source": "",
          "coverage": ""
        },
        "148": {
          "source": "  var toIndex = self.index + step;",
          "coverage": 11
        },
        "149": {
          "source": "",
          "coverage": ""
        },
        "150": {
          "source": "  if (toIndex < 0) {",
          "coverage": 11
        },
        "151": {
          "source": "    return;",
          "coverage": 1
        },
        "152": {
          "source": "  }",
          "coverage": ""
        },
        "153": {
          "source": "",
          "coverage": ""
        },
        "154": {
          "source": "  if (toIndex > self.maxIndex) {",
          "coverage": 10
        },
        "155": {
          "source": "    return;",
          "coverage": 0
        },
        "156": {
          "source": "  }",
          "coverage": ""
        },
        "157": {
          "source": "",
          "coverage": ""
        },
        "158": {
          "source": "  self.prevIndex = self.index;",
          "coverage": 10
        },
        "159": {
          "source": "  self.index = toIndex;",
          "coverage": 10
        },
        "160": {
          "source": "",
          "coverage": ""
        },
        "161": {
          "source": "  self.ready = false;",
          "coverage": 10
        },
        "162": {
          "source": "",
          "coverage": ""
        },
        "163": {
          "source": "  /**",
          "coverage": ""
        },
        "164": {
          "source": "   * 通知动画开始",
          "coverage": ""
        },
        "165": {
          "source": "   * @event module:nd-slider#animate",
          "coverage": ""
        },
        "166": {
          "source": "   */",
          "coverage": ""
        },
        "167": {
          "source": "  self.fire('animate');",
          "coverage": 10
        },
        "168": {
          "source": "",
          "coverage": ""
        },
        "169": {
          "source": "  self.animate(speed || self.speed, function() {",
          "coverage": 10
        },
        "170": {
          "source": "    self.ready = true;",
          "coverage": 10
        },
        "171": {
          "source": "",
          "coverage": ""
        },
        "172": {
          "source": "    /**",
          "coverage": ""
        },
        "173": {
          "source": "     * 通知动画完毕",
          "coverage": ""
        },
        "174": {
          "source": "     * @event module:nd-slider#complete",
          "coverage": ""
        },
        "175": {
          "source": "     */",
          "coverage": ""
        },
        "176": {
          "source": "    self.fire('complete');",
          "coverage": 10
        },
        "177": {
          "source": "    self.paginate();",
          "coverage": 10
        },
        "178": {
          "source": "  });",
          "coverage": ""
        },
        "179": {
          "source": "};",
          "coverage": ""
        },
        "180": {
          "source": "",
          "coverage": ""
        },
        "181": {
          "source": "/**",
          "coverage": ""
        },
        "182": {
          "source": " * 滚屏动画",
          "coverage": ""
        },
        "183": {
          "source": " * @param  {Number}   speed    动画速度",
          "coverage": ""
        },
        "184": {
          "source": " * @param  {Function} callback 动画回调函数",
          "coverage": ""
        },
        "185": {
          "source": " */",
          "coverage": ""
        },
        "186": {
          "source": "Slider.prototype.animate = function(speed, callback) {",
          "coverage": 1
        },
        "187": {
          "source": "  this.container.stop(true).animate({",
          "coverage": 10
        },
        "188": {
          "source": "    top: '-' + (this.index * this.height) + 'px'",
          "coverage": ""
        },
        "189": {
          "source": "  }, speed, callback);",
          "coverage": ""
        },
        "190": {
          "source": "};",
          "coverage": ""
        },
        "191": {
          "source": "",
          "coverage": ""
        },
        "192": {
          "source": "/**",
          "coverage": ""
        },
        "193": {
          "source": " * 处理分页符状态",
          "coverage": ""
        },
        "194": {
          "source": " */",
          "coverage": ""
        },
        "195": {
          "source": "Slider.prototype.paginate = function() {",
          "coverage": 1
        },
        "196": {
          "source": "  if (!this.paginator) {",
          "coverage": 10
        },
        "197": {
          "source": "    return;",
          "coverage": 0
        },
        "198": {
          "source": "  }",
          "coverage": ""
        },
        "199": {
          "source": "",
          "coverage": ""
        },
        "200": {
          "source": "  this.paginator.children().eq(this.index).addClass(this.activeClass)",
          "coverage": 10
        },
        "201": {
          "source": "      .siblings('.' + this.activeClass).removeClass(this.activeClass);",
          "coverage": ""
        },
        "202": {
          "source": "};",
          "coverage": ""
        },
        "203": {
          "source": "",
          "coverage": ""
        },
        "204": {
          "source": "/**",
          "coverage": ""
        },
        "205": {
          "source": " * 初始化事件订阅",
          "coverage": ""
        },
        "206": {
          "source": " * @private",
          "coverage": ""
        },
        "207": {
          "source": " */",
          "coverage": ""
        },
        "208": {
          "source": "Slider.prototype._initEvents = function() {",
          "coverage": 1
        },
        "209": {
          "source": "  if (!this.events) {",
          "coverage": 3
        },
        "210": {
          "source": "    return;",
          "coverage": 0
        },
        "211": {
          "source": "  }",
          "coverage": ""
        },
        "212": {
          "source": "",
          "coverage": ""
        },
        "213": {
          "source": "  var p;",
          "coverage": 3
        },
        "214": {
          "source": "",
          "coverage": ""
        },
        "215": {
          "source": "  for (p in this.events) {",
          "coverage": 3
        },
        "216": {
          "source": "    this.on(p, this.events[p]);",
          "coverage": 6
        },
        "217": {
          "source": "  }",
          "coverage": ""
        },
        "218": {
          "source": "",
          "coverage": ""
        },
        "219": {
          "source": "  this.events = null;",
          "coverage": 3
        },
        "220": {
          "source": "};",
          "coverage": ""
        },
        "221": {
          "source": "",
          "coverage": ""
        },
        "222": {
          "source": "/**",
          "coverage": ""
        },
        "223": {
          "source": " * 事件触发",
          "coverage": ""
        },
        "224": {
          "source": " * @param  {String} evt 事件名",
          "coverage": ""
        },
        "225": {
          "source": " * @return {Boolean}    如果回调列表中至少有一项返回 `false`，返回 `false`",
          "coverage": ""
        },
        "226": {
          "source": " */",
          "coverage": ""
        },
        "227": {
          "source": "Slider.prototype.fire = function(evt) {",
          "coverage": 1
        },
        "228": {
          "source": "  var result = true;",
          "coverage": 20
        },
        "229": {
          "source": "",
          "coverage": ""
        },
        "230": {
          "source": "  var events = this.__events;",
          "coverage": 20
        },
        "231": {
          "source": "",
          "coverage": ""
        },
        "232": {
          "source": "  if (!events) {",
          "coverage": 20
        },
        "233": {
          "source": "    return result;",
          "coverage": 0
        },
        "234": {
          "source": "  }",
          "coverage": ""
        },
        "235": {
          "source": "",
          "coverage": ""
        },
        "236": {
          "source": "  var list = events[evt];",
          "coverage": 20
        },
        "237": {
          "source": "",
          "coverage": ""
        },
        "238": {
          "source": "  if (!list) {",
          "coverage": 20
        },
        "239": {
          "source": "    return result;",
          "coverage": 0
        },
        "240": {
          "source": "  }",
          "coverage": ""
        },
        "241": {
          "source": "",
          "coverage": ""
        },
        "242": {
          "source": "  var i, n = list.length, args = Array.prototype.slice.call(arguments, 1);",
          "coverage": 20
        },
        "243": {
          "source": "",
          "coverage": ""
        },
        "244": {
          "source": "  for (i = 0; i < n; i++) {",
          "coverage": 20
        },
        "245": {
          "source": "    result = list[i].apply(this, args) !== false && result;",
          "coverage": 34
        },
        "246": {
          "source": "  }",
          "coverage": ""
        },
        "247": {
          "source": "",
          "coverage": ""
        },
        "248": {
          "source": "  return result;",
          "coverage": 20
        },
        "249": {
          "source": "};",
          "coverage": ""
        },
        "250": {
          "source": "",
          "coverage": ""
        },
        "251": {
          "source": "/**",
          "coverage": ""
        },
        "252": {
          "source": " * 事件订阅",
          "coverage": ""
        },
        "253": {
          "source": " * @param  {String}   evt  事件名",
          "coverage": ""
        },
        "254": {
          "source": " * @param  {Function} func 事件回调",
          "coverage": ""
        },
        "255": {
          "source": " */",
          "coverage": ""
        },
        "256": {
          "source": "Slider.prototype.on = function(evt, func) {",
          "coverage": 1
        },
        "257": {
          "source": "  var events = this.__events || (this.__events = {});",
          "coverage": 12
        },
        "258": {
          "source": "  var list = events[evt];",
          "coverage": 12
        },
        "259": {
          "source": "",
          "coverage": ""
        },
        "260": {
          "source": "  if (list) {",
          "coverage": 12
        },
        "261": {
          "source": "    list.push(func);",
          "coverage": 6
        },
        "262": {
          "source": "  } else {",
          "coverage": ""
        },
        "263": {
          "source": "    events[evt] = [func];",
          "coverage": 6
        },
        "264": {
          "source": "  }",
          "coverage": ""
        },
        "265": {
          "source": "};",
          "coverage": ""
        },
        "266": {
          "source": "",
          "coverage": ""
        },
        "267": {
          "source": "module.exports = Slider;",
          "coverage": 1
        },
        "268": {
          "source": "",
          "coverage": ""
        }
      }
    }
  ],
  "stats": {
    "suites": 1,
    "tests": 3,
    "passes": 3,
    "pending": 0,
    "failures": 0,
    "start": "2014-12-30T09:55:07.396Z",
    "end": "2014-12-30T09:55:08.090Z",
    "duration": 694
  },
  "tests": [
    {
      "title": "mousewheel",
      "fullTitle": "Slider mousewheel",
      "duration": 159
    },
    {
      "title": "keydown",
      "fullTitle": "Slider keydown",
      "duration": 304
    },
    {
      "title": "paginator",
      "fullTitle": "Slider paginator",
      "duration": 166
    }
  ],
  "failures": [],
  "passes": [
    {
      "title": "mousewheel",
      "fullTitle": "Slider mousewheel",
      "duration": 159
    },
    {
      "title": "keydown",
      "fullTitle": "Slider keydown",
      "duration": 304
    },
    {
      "title": "paginator",
      "fullTitle": "Slider paginator",
      "duration": 166
    }
  ]
}